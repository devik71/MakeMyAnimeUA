# üé¨ MakeMyAnimeUA ‚Äî –£–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è –í–µ–±-–°–µ—Ä–≤–µ—Ä–æ–º

## üöÄ **–®–≤–∏–¥–∫–∏–π —Å—Ç–∞—Ä—Ç**

### **–ó–∞–ø—É—Å–∫ —Å–µ—Ä–≤–µ—Ä–∞:**
```bash
./start_pipeline_server.sh start
```

### **–ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å—É:**
```bash
./start_pipeline_server.sh status
```

### **–î–æ—Å—Ç—É–ø –¥–æ –≤–µ–±-—ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å—É:**
- üåê **URL:** http://localhost:5001
- üì± **–ü–æ—Ä—Ç:** 5001
- üîó **–Ü–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∏:** localhost (127.0.0.1) —Ç–∞ 0.0.0.0

---

## üìã **–ü–æ–≤–Ω–∏–π —Å–ø–∏—Å–æ–∫ –∫–æ–º–∞–Ω–¥**

| –ö–æ–º–∞–Ω–¥–∞ | –û–ø–∏—Å |
|---------|------|
| `./start_pipeline_server.sh start` | –ó–∞–ø—É—Å—Ç–∏—Ç–∏ —Å–µ—Ä–≤–µ—Ä |
| `./start_pipeline_server.sh stop` | –ó—É–ø–∏–Ω–∏—Ç–∏ —Å–µ—Ä–≤–µ—Ä |
| `./start_pipeline_server.sh restart` | –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–∏ —Å–µ—Ä–≤–µ—Ä |
| `./start_pipeline_server.sh status` | –ü–æ–∫–∞–∑–∞—Ç–∏ —Å—Ç–∞—Ç—É—Å |
| `./start_pipeline_server.sh logs` | –ü–æ–∫–∞–∑–∞—Ç–∏ –ª–æ–≥–∏ |

### **–ö–æ—Ä–æ—Ç–∫—ñ –∞–ªi–∞—Å–∏ (–ø—ñ—Å–ª—è –ø–µ—Ä–µ–∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è —Ç–µ—Ä–º—ñ–Ω–∞–ª—É):**
```bash
start-pipeline    # –ó–∞–ø—É—Å—Ç–∏—Ç–∏
stop-pipeline     # –ó—É–ø–∏–Ω–∏—Ç–∏  
status-pipeline   # –°—Ç–∞—Ç—É—Å
```

---

## üîß **–ê–≤—Ç–æ–∑–∞–ø—É—Å–∫**

### **–ù–∞–ª–∞—à—Ç–æ–≤–∞–Ω–æ:**
- ‚úÖ **–ü—Ä–∏ –≤—ñ–¥–∫—Ä–∏—Ç—Ç—ñ —Ç–µ—Ä–º—ñ–Ω–∞–ª—É** ‚Äî –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –∑–∞–ø—É—Å–∫–∞—î—Ç—å—Å—è
- ‚úÖ **–ê–ªi–∞—Å–∏** ‚Äî –∫–æ—Ä–æ—Ç–∫—ñ –∫–æ–º–∞–Ω–¥–∏ –¥–ª—è —É–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è
- ‚ö†Ô∏è **Cron** ‚Äî –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–∏–π –≤ —Ü—å–æ–º—É —Å–µ—Ä–µ–¥–æ–≤–∏—â—ñ

### **–†—É—á–Ω–µ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –∞–≤—Ç–æ–∑–∞–ø—É—Å–∫—É:**
```bash
./setup_autostart.sh
```

---

## üêõ **–î—ñ–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ —Ç–∞ –≤–∏–ø—Ä–∞–≤–ª–µ–Ω–Ω—è –ø–æ–º–∏–ª–æ–∫**

### **–°–µ—Ä–≤–µ—Ä –Ω–µ –∑–∞–ø—É—Å–∫–∞—î—Ç—å—Å—è:**

1. **–ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ –∑–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ:**
   ```bash
   python3 -c "import flask"
   ```

2. **–ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ –ø–æ—Ä—Ç:**
   ```bash
   curl -I http://localhost:5001
   ```

3. **–ü–µ—Ä–µ–≥–ª—è–Ω—É—Ç–∏ –ª–æ–≥–∏:**
   ```bash
   ./start_pipeline_server.sh logs
   ```

### **–°–µ—Ä–≤–µ—Ä –Ω–µ –≤—ñ–¥–ø–æ–≤—ñ–¥–∞—î:**

1. **–ü—Ä–∏–º—É—Å–æ–≤–æ –∑—É–ø–∏–Ω–∏—Ç–∏ –≤—Å—ñ –ø—Ä–æ—Ü–µ—Å–∏:**
   ```bash
   pkill -f main_pipeline_web.py
   ```

2. **–ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–∏:**
   ```bash
   ./start_pipeline_server.sh restart
   ```

### **–ü–æ—Ä—Ç –∑–∞–π–Ω—è—Ç–∏–π:**
```bash
# –ó–Ω–∞–π—Ç–∏ –ø—Ä–æ—Ü–µ—Å –Ω–∞ –ø–æ—Ä—Ç—É 5001
ps aux | grep 5001

# –í–±–∏—Ç–∏ –ø—Ä–æ—Ü–µ—Å –ø–æ PID
kill [PID_NUMBER]
```

---

## üìù **–õ–æ–≥–∏ —Ç–∞ –º–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥**

### **–§–∞–π–ª–∏ –ª–æ–≥—ñ–≤:**
- üìÑ **–û—Å–Ω–æ–≤–Ω—ñ –ª–æ–≥–∏:** `/workspace/pipeline_server.log`
- üìÑ **PID —Ñ–∞–π–ª:** `/workspace/pipeline_server.pid`

### **–ú–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥ –≤ —Ä–µ–∞–ª—å–Ω–æ–º—É —á–∞—Å—ñ:**
```bash
# –°–ª—ñ–¥–∫—É–≤–∞—Ç–∏ –∑–∞ –ª–æ–≥–∞–º–∏
tail -f pipeline_server.log

# –ü–æ–∫–∞–∑–∞—Ç–∏ –æ—Å—Ç–∞–Ω–Ω—ñ 50 —Ä—è–¥–∫—ñ–≤
tail -50 pipeline_server.log
```

---

## ‚öôÔ∏è **–ö–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è**

### **–ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è Flask:**
- **Host:** `0.0.0.0` (–≤—Å—ñ —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∏)
- **Port:** `5001`
- **Debug:** `True` (—Ç—ñ–ª—å–∫–∏ –¥–ª—è —Ä–æ–∑—Ä–æ–±–∫–∏)

### **–ó–º—ñ–Ω–∞ –ø–æ—Ä—Ç—É:**
–í—ñ–¥—Ä–µ–¥–∞–≥—É–π—Ç–µ —Ñ–∞–π–ª `main_pipeline_web.py`:
```python
app.run(debug=True, port=5002, host='0.0.0.0')  # –ó–º—ñ–Ω–∏—Ç–∏ 5001 –Ω–∞ 5002
```

---

## üîí **–ë–µ–∑–ø–µ–∫–∞**

### **‚ö†Ô∏è –í–∞–∂–ª–∏–≤–æ –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω—É:**
- –í–∏–º–∫–Ω—É—Ç–∏ debug —Ä–µ–∂–∏–º
- –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ WSGI —Å–µ—Ä–≤–µ—Ä (gunicorn, uwsgi)
- –ù–∞–ª–∞—à—Ç—É–≤–∞—Ç–∏ nginx reverse proxy
- –î–æ–¥–∞—Ç–∏ HTTPS

### **–ü–æ—Ç–æ—á–Ω—ñ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è (—Ç—ñ–ª—å–∫–∏ –¥–ª—è —Ä–æ–∑—Ä–æ–±–∫–∏):**
- Debug —Ä–µ–∂–∏–º —É–≤—ñ–º–∫–Ω–µ–Ω–æ
- Flask development server
- HTTP –±–µ–∑ —à–∏—Ñ—Ä—É–≤–∞–Ω–Ω—è

---

## üö® **–ß–∞—Å—Ç—ñ –ø—Ä–æ–±–ª–µ–º–∏ —Ç–∞ —Ä—ñ—à–µ–Ω–Ω—è**

| –ü—Ä–æ–±–ª–µ–º–∞ | –ü—Ä–∏—á–∏–Ω–∞ | –†—ñ—à–µ–Ω–Ω—è |
|----------|---------|---------|
| "Connection refused" | –°–µ—Ä–≤–µ—Ä –Ω–µ –∑–∞–ø—É—â–µ–Ω–æ | `./start_pipeline_server.sh start` |
| "Port already in use" | –Ü–Ω—à–∏–π –ø—Ä–æ—Ü–µ—Å –∑–∞–π–º–∞—î –ø–æ—Ä—Ç | `pkill -f main_pipeline_web.py` |
| "Module not found" | –í—ñ–¥—Å—É—Ç–Ω—ñ –∑–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ | `sudo apt install python3-flask` |
| "Permission denied" | –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ñ –¥–æ–∑–≤–æ–ª–∏ | `chmod +x start_pipeline_server.sh` |
| –°–µ—Ä–≤–µ—Ä "–∑–∞–≤–∏—Å–∞—î" | –ü–æ–º–∏–ª–∫–∞ –≤ –∫–æ–¥—ñ | –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ –ª–æ–≥–∏, –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–∏ |

---

## üìû **–®–≤–∏–¥–∫–∞ –¥–æ–≤—ñ–¥–∫–∞**

**–©–æ–± —à–≤–∏–¥–∫–æ –∑–∞–ø—É—Å—Ç–∏—Ç–∏ —Å–µ—Ä–≤–µ—Ä:**
```bash
./start_pipeline_server.sh start && echo "–°–µ—Ä–≤–µ—Ä: http://localhost:5001"
```

**–©–æ–± —à–≤–∏–¥–∫–æ –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–∏:**
```bash
./start_pipeline_server.sh restart
```

**–©–æ–± –ø–æ–¥–∏–≤–∏—Ç–∏—Å—è —á–∏ –≤—Å–µ –ø—Ä–∞—Ü—é—î:**
```bash
./start_pipeline_server.sh status && curl -s http://localhost:5001 > /dev/null && echo "‚úÖ –í—Å–µ –ø—Ä–∞—Ü—é—î!"
```